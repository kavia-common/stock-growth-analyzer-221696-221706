{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript source module that provides a client for interacting with a backend API related to stock growth analysis. It includes functions for URL resolution, request handling, and various API operations such as analyzing growth, getting URL details, pinning the API URL, running diagnostics, and creating minimal reproducible requests. It also manages environment-based URL configuration and CORS issues.", "external_files": [], "external_methods": ["fetch", "console.log", "console.error", "console.warn"], "published": ["analyzeGrowth", "getApiBaseUrl", "getApiBaseUrlDetails", "pinApiBaseUrl", "runMinimalRepro", "diagnosticsRun"], "classes": [], "methods": [{"name": "resolveBaseUrl()", "description": "Determines the base URL for the API based on environment variables, runtime pins, or current window origin.", "scope": "", "scopeKind": ""}, {"name": "buildUrl(path)", "description": "Constructs a full URL by appending a path to the base URL, ensuring proper slashes.", "scope": "", "scopeKind": ""}, {"name": "normalizeRow(row)", "description": "Normalizes response row data keys for consistent UI display, mapping deprecated or alternative keys.", "scope": "", "scopeKind": ""}, {"name": "handleResponse(res)", "description": "Processes fetch responses, parsing JSON or text, handling errors, and normalizing the data shape.", "scope": "", "scopeKind": ""}, {"name": "analyzeGrowth(payload)", "description": "Sends a POST request to /analyze-growth endpoint with payload parameters and returns normalized results with warnings.", "scope": "", "scopeKind": ""}, {"name": "getApiBaseUrl()", "description": "Returns the currently resolved base URL for the API.", "scope": "", "scopeKind": ""}, {"name": "getApiBaseUrlDetails()", "description": "Provides details on how the base URL was determined (runtime pin, environment variable, inference, fallback).", "scope": "", "scopeKind": ""}, {"name": "pinApiBaseUrl(url)", "description": "Allows runtime overriding of the API base URL for diagnostics and troubleshooting.", "scope": "", "scopeKind": ""}, {"name": "runMinimalRepro()", "description": "Performs a minimal test POST request to /analyze-growth with predefined parameters for QA.", "scope": "", "scopeKind": ""}, {"name": "diagnosticsRun()", "description": "Runs a comprehensive set of diagnostics including CORS preflight and POST request to troubleshoot API connectivity issues.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "console.log", "console.error", "console.warn", "new URL", "JSON.stringify", "normalizeRow", "handleResponse"], "search-terms": ["api client", "analyze-growth", "URL resolution", "CORS diagnostics", "environment override", "runtime pin", "fetch error handling", "minimal reproduction", "async functions", "JavaScript API client"], "state": 2, "file_id": 13, "knowledge_revision": 51, "git_revision": "f2bc9bd8a89f19ea6cb7cc3c58b0c537e6f6471d", "revision_history": [{"27": ""}, {"40": "80ab639f592b3fa4a4cc68fd3d43188d2bf26d81"}, {"43": "19e46695f7ae3894f8b369f35e00aff7be7c96cb"}, {"44": "19e46695f7ae3894f8b369f35e00aff7be7c96cb"}, {"47": "fc6e203587a38b5cb4b285c9a194de3bd6d6ad0c"}, {"49": "f2bc9bd8a89f19ea6cb7cc3c58b0c537e6f6471d"}, {"50": "f2bc9bd8a89f19ea6cb7cc3c58b0c537e6f6471d"}, {"51": "f2bc9bd8a89f19ea6cb7cc3c58b0c537e6f6471d"}], "ctags": [{"_type": "tag", "name": "__BASE_URL_PIN", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^let __BASE_URL_PIN = null; \\/\\/ optional runtime pin override for diagnostics$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "analyzeGrowth", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^export async function analyzeGrowth(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    baseUrl: getApiBaseUrl(),$/", "language": "JavaScript", "kind": "property", "scope": "diagnosticsRun.details", "scopeKind": "class"}, {"_type": "tag", "name": "baseUrlDetails", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    baseUrlDetails: getApiBaseUrlDetails(),$/", "language": "JavaScript", "kind": "property", "scope": "diagnosticsRun.details", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      body,$/", "language": "JavaScript", "kind": "field", "scope": "details.post", "scopeKind": "class"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^function buildUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "details", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^  const details = {$/", "language": "JavaScript", "kind": "class", "scope": "diagnosticsRun", "scopeKind": "class"}, {"_type": "tag", "name": "diagnosticsRun", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^export async function diagnosticsRun() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "end_date", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    end_date: '2025-12-11',$/", "language": "JavaScript", "kind": "property", "scope": "diagnosticsRun.payload", "scopeKind": "class"}, {"_type": "tag", "name": "end_date", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    end_date: '2025-12-11',$/", "language": "JavaScript", "kind": "property", "scope": "runMinimalRepro.payload", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      error: `${e?.message || e}`,$/", "language": "JavaScript", "kind": "property", "scope": "details.post", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      error: `${e?.message || e}`,$/", "language": "JavaScript", "kind": "property", "scope": "details.preflight", "scopeKind": "class"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getApiBaseUrlDetails", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^export function getApiBaseUrlDetails() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handleResponse", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^async function handleResponse(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      headers: postHeaders,$/", "language": "JavaScript", "kind": "property", "scope": "details.post", "scopeKind": "class"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      headers: preHeaders,$/", "language": "JavaScript", "kind": "property", "scope": "details.preflight", "scopeKind": "class"}, {"_type": "tag", "name": "hint", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      hint:$/", "language": "JavaScript", "kind": "property", "scope": "details.post", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    limit: 10,$/", "language": "JavaScript", "kind": "property", "scope": "diagnosticsRun.payload", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    limit: 10,$/", "language": "JavaScript", "kind": "property", "scope": "runMinimalRepro.payload", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeRow", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^function normalizeRow(row) {$/", "language": "JavaScript", "kind": "function", "signature": "(row)"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      ok: postRes.ok,$/", "language": "JavaScript", "kind": "property", "scope": "details.post", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      ok: preRes.ok,$/", "language": "JavaScript", "kind": "property", "scope": "details.preflight", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "diagnosticsRun", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "runMinimalRepro", "scopeKind": "class"}, {"_type": "tag", "name": "pinApiBaseUrl", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^export function pinApiBaseUrl(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    details.post = {$/", "language": "JavaScript", "kind": "class", "scope": "details", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    post: null,$/", "language": "JavaScript", "kind": "property", "scope": "diagnosticsRun.details", "scopeKind": "class"}, {"_type": "tag", "name": "preflight", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    details.preflight = {$/", "language": "JavaScript", "kind": "class", "scope": "details", "scopeKind": "class"}, {"_type": "tag", "name": "preflight", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    preflight: null,$/", "language": "JavaScript", "kind": "property", "scope": "diagnosticsRun.details", "scopeKind": "class"}, {"_type": "tag", "name": "resolveBaseUrl", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^function resolveBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "runMinimalRepro", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^export async function runMinimalRepro() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "start_date", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    start_date: '2025-11-11',$/", "language": "JavaScript", "kind": "property", "scope": "diagnosticsRun.payload", "scopeKind": "class"}, {"_type": "tag", "name": "start_date", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    start_date: '2025-11-11',$/", "language": "JavaScript", "kind": "property", "scope": "runMinimalRepro.payload", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      status: postRes.status,$/", "language": "JavaScript", "kind": "property", "scope": "details.post", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      status: preRes.status,$/", "language": "JavaScript", "kind": "property", "scope": "details.preflight", "scopeKind": "class"}, {"_type": "tag", "name": "universe", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    universe: 'NASDAQ',$/", "language": "JavaScript", "kind": "property", "scope": "diagnosticsRun.payload", "scopeKind": "class"}, {"_type": "tag", "name": "universe", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^    universe: 'NASDAQ',$/", "language": "JavaScript", "kind": "property", "scope": "runMinimalRepro.payload", "scopeKind": "class"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      url: postUrl,$/", "language": "JavaScript", "kind": "property", "scope": "details.post", "scopeKind": "class"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221706/stock_growth_frontend/src/api/client.js", "pattern": "/^      url: preflightUrl,$/", "language": "JavaScript", "kind": "property", "scope": "details.preflight", "scopeKind": "class"}], "hash": "f4aa338055969eeb51b65613f1b767f5", "format-version": 4, "code-base-name": "stock_growth_frontend", "filename": "stock_growth_frontend/src/api/client.js", "fields": [{"name": "let __BASE_URL_PIN = null; \\/\\/ optional runtime pin override for diagnostics", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "baseUrl: getApiBaseUrl(),", "scope": "diagnosticsRun.details", "scopeKind": "class", "description": "unavailable"}, {"name": "baseUrlDetails: getApiBaseUrlDetails(),", "scope": "diagnosticsRun.details", "scopeKind": "class", "description": "unavailable"}, {"name": "body,", "scope": "details.post", "scopeKind": "class", "description": "unavailable"}, {"name": "end_date: '2025-12-11',", "scope": "diagnosticsRun.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "error: `${e?.message || e}`,", "scope": "details.post", "scopeKind": "class", "description": "unavailable"}, {"name": "headers: postHeaders,", "scope": "details.post", "scopeKind": "class", "description": "unavailable"}, {"name": "headers: preHeaders,", "scope": "details.preflight", "scopeKind": "class", "description": "unavailable"}, {"name": "hint:", "scope": "details.post", "scopeKind": "class", "description": "unavailable"}, {"name": "limit: 10,", "scope": "diagnosticsRun.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "ok: postRes.ok,", "scope": "details.post", "scopeKind": "class", "description": "unavailable"}, {"name": "ok: preRes.ok,", "scope": "details.preflight", "scopeKind": "class", "description": "unavailable"}, {"name": "post: null,", "scope": "diagnosticsRun.details", "scopeKind": "class", "description": "unavailable"}, {"name": "preflight: null,", "scope": "diagnosticsRun.details", "scopeKind": "class", "description": "unavailable"}, {"name": "start_date: '2025-11-11',", "scope": "diagnosticsRun.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "status: postRes.status,", "scope": "details.post", "scopeKind": "class", "description": "unavailable"}, {"name": "status: preRes.status,", "scope": "details.preflight", "scopeKind": "class", "description": "unavailable"}, {"name": "universe: 'NASDAQ',", "scope": "diagnosticsRun.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "url: postUrl,", "scope": "details.post", "scopeKind": "class", "description": "unavailable"}, {"name": "url: preflightUrl,", "scope": "details.preflight", "scopeKind": "class", "description": "unavailable"}]}